# ğŸš€ è…¾è®¯äº‘å›¾åƒé£æ ¼åŒ– API - 5åˆ†é’Ÿå¿«é€Ÿå¼€å§‹

å¦‚æœä½ å·²ç»æœ‰è…¾è®¯äº‘è´¦å·å’Œ API å¯†é’¥ï¼Œè¿™ä»½æ–‡æ¡£å¯ä»¥å¸®ä½ åœ¨ 5 åˆ†é’Ÿå†…å®Œæˆé…ç½®å’Œæµ‹è¯•ã€‚

---

## æ­¥éª¤ 1ï¼šé…ç½®ç¯å¢ƒå˜é‡ï¼ˆ2 åˆ†é’Ÿï¼‰

### å¤åˆ¶é…ç½®æ–‡ä»¶

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ
cp .env.example .env
```

### ç¼–è¾‘ .env æ–‡ä»¶

æ‰“å¼€ `.env` æ–‡ä»¶ï¼Œæ‰¾åˆ°è…¾è®¯äº‘é…ç½®éƒ¨åˆ†ï¼Œå¡«å…¥ä½ çš„å¯†é’¥ï¼š

```bash
# è…¾è®¯äº‘ API é…ç½® (å›¾ç‰‡é£æ ¼åŒ–)
TENCENT_CLOUD_SECRET_ID=your_tencent_cloud_secret_id_here  # æ›¿æ¢ä¸ºä½ çš„ SecretId
TENCENT_CLOUD_SECRET_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx    # æ›¿æ¢ä¸ºä½ çš„ SecretKey
TENCENT_CLOUD_REGION=ap-guangzhou                           # åœ°åŸŸé€‰æ‹©ï¼ˆå¹¿å·/åŒ—äº¬/ä¸Šæµ·ï¼‰
```

> **å¦‚ä½•è·å–å¯†é’¥ï¼Ÿ** è®¿é—® https://console.cloud.tencent.com/cam/capi

---

## æ­¥éª¤ 2ï¼šå®‰è£…ä¾èµ–ï¼ˆ1 åˆ†é’Ÿï¼‰

```bash
cd backend
pip install tencentcloud-sdk-python-aiart
```

æˆ–å®‰è£…å…¨éƒ¨ä¾èµ–ï¼š

```bash
pip install -r requirements.txt
```

---

## æ­¥éª¤ 3ï¼šå‡†å¤‡æµ‹è¯•å›¾ç‰‡ï¼ˆ1 åˆ†é’Ÿï¼‰

åœ¨ `example/tencent_cloud/` ç›®å½•æ”¾ä¸€å¼ æµ‹è¯•å›¾ç‰‡ï¼š

```bash
cd example/tencent_cloud

# å¦‚æœæœ‰æµ‹è¯•å›¾ç‰‡ï¼Œå¤åˆ¶å¹¶é‡å‘½å
cp /path/to/your/photo.jpg test_input.jpg
```

**å›¾ç‰‡è¦æ±‚**ï¼š
- æ ¼å¼ï¼šJPGã€PNG æˆ– WEBP
- å¤§å°ï¼š< 10 MB
- æ¨èï¼šäººç‰©ç…§ç‰‡ï¼ˆåŠ¨æ¼«é£æ ¼æ•ˆæœæœ€ä½³ï¼‰

---

## æ­¥éª¤ 4ï¼šè¿è¡Œæµ‹è¯•ï¼ˆ1 åˆ†é’Ÿï¼‰

```bash
cd example/tencent_cloud
python test_api.py
```

**é¢„æœŸè¾“å‡º**ï¼š

```
============================================================
ğŸš€ è…¾è®¯äº‘å›¾åƒé£æ ¼åŒ– API é…ç½®éªŒè¯å·¥å…·
============================================================

============================================================
ğŸ” æ­¥éª¤ 1: æ£€æŸ¥ç¯å¢ƒå˜é‡é…ç½®
============================================================
âœ… æ‰¾åˆ° .env æ–‡ä»¶: /path/to/.env
âœ… ç¯å¢ƒå˜é‡é…ç½®æ­£ç¡®
   SecretId: your_id...here
   SecretKey: xxxxxxxxxx...xxxx
   Region: ap-guangzhou

============================================================
ğŸ“¦ æ­¥éª¤ 2: æ£€æŸ¥ä¾èµ–åŒ…
============================================================
âœ… tencentcloud-sdk-python-aiart å·²å®‰è£…

============================================================
ğŸ–¼ï¸  æ­¥éª¤ 3: æ£€æŸ¥æµ‹è¯•å›¾ç‰‡
============================================================
âœ… æ‰¾åˆ°æµ‹è¯•å›¾ç‰‡: test_input.jpg
   æ–‡ä»¶å¤§å°: 2.34 MB

============================================================
ğŸ¨ æ­¥éª¤ 4: æµ‹è¯• API è°ƒç”¨
============================================================

ğŸ”§ åˆå§‹åŒ–è…¾è®¯äº‘å®¢æˆ·ç«¯...
âœ… å®¢æˆ·ç«¯åˆå§‹åŒ–æˆåŠŸ

ğŸ¨ å¼€å§‹æµ‹è¯•å›¾ç‰‡é£æ ¼åŒ–...
   è¾“å…¥å›¾ç‰‡: test_input.jpg
   é£æ ¼ç±»å‹: anime (åŠ¨æ¼«é£æ ¼)
   è¾“å‡ºå›¾ç‰‡: test_output_anime.jpg

   â³ å¤„ç†ä¸­ï¼Œé¢„è®¡éœ€è¦ 10-30 ç§’...

å›¾ç‰‡å·²ä¿å­˜åˆ°: test_output_anime.jpg

============================================================
ğŸ‰ æµ‹è¯•æˆåŠŸï¼
============================================================
âœ… è¯·æ±‚ID: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
âœ… è¾“å‡ºæ–‡ä»¶: test_output_anime.jpg

============================================================
âœ… é…ç½®éªŒè¯å®Œæˆï¼
============================================================
ä½ ç°åœ¨å¯ä»¥:
1. æŸ¥çœ‹ç”Ÿæˆçš„å›¾ç‰‡: test_output_anime.jpg
2. æŸ¥çœ‹ä½¿ç”¨æ–‡æ¡£: README.md
3. å¼€å§‹é›†æˆåˆ°é¡¹ç›®ä¸­
============================================================
```

---

## æ­¥éª¤ 5ï¼šæŸ¥çœ‹ç»“æœ

æµ‹è¯•æˆåŠŸåï¼Œä½ ä¼šåœ¨ `example/tencent_cloud/` ç›®å½•çœ‹åˆ°ç”Ÿæˆçš„å›¾ç‰‡ï¼š

- `test_output_anime.jpg` - åŠ¨æ¼«é£æ ¼è½¬æ¢ç»“æœ

æ‰“å¼€å›¾ç‰‡æŸ¥çœ‹æ•ˆæœï¼

---

## ğŸ¨ å°è¯•æ›´å¤šé£æ ¼

ç¼–è¾‘ `test_api.py`ï¼Œä¿®æ”¹ `style_type` å‚æ•°ï¼š

```python
result = client.transfer_style(
    image_path="test_input.jpg",
    style_type="cartoon_3d",  # æ”¹ä¸ºå…¶ä»–é£æ ¼
    output_path="test_output_cartoon.jpg"
)
```

**å¯ç”¨é£æ ¼**ï¼š
- `anime` - åŠ¨æ¼«é£æ ¼
- `cartoon_3d` - 3Då¡é€š
- `sketch` - ç´ æ
- `watercolor` - æ°´å½©ç”»
- `oil_painting` - æ²¹ç”»

---

## âŒ é‡åˆ°é—®é¢˜ï¼Ÿ

### é—®é¢˜ 1ï¼šæ‰¾ä¸åˆ° .env æ–‡ä»¶

```bash
# ä»æ¨¡æ¿å¤åˆ¶
cp .env.example .env
```

### é—®é¢˜ 2ï¼šæç¤º "SecretId ä¸å­˜åœ¨"

- æ£€æŸ¥å¯†é’¥æ˜¯å¦å¤åˆ¶å®Œæ•´ï¼ˆåŒ…æ‹¬ AKID å‰ç¼€ï¼‰
- ç¡®è®¤å¯†é’¥çŠ¶æ€ä¸º"å¯ç”¨"
- ç­‰å¾… 1-2 åˆ†é’Ÿåé‡è¯•

### é—®é¢˜ 3ï¼šæç¤º "ä½™é¢ä¸è¶³"

- æ£€æŸ¥å…è´¹é¢åº¦ï¼šhttps://console.cloud.tencent.com/aiart
- æ¯æœˆæœ‰ 100 æ¬¡å…è´¹é¢åº¦

### é—®é¢˜ 4ï¼šImportError

```bash
pip install tencentcloud-sdk-python-aiart
```

### é—®é¢˜ 5ï¼šæ‰¾ä¸åˆ°æµ‹è¯•å›¾ç‰‡

```bash
# ç¡®ä¿æ–‡ä»¶åæ­£ç¡®
ls example/tencent_cloud/test_input.jpg
```

---

## ğŸ“š ä¸‹ä¸€æ­¥

âœ… **é…ç½®å®Œæˆåï¼ŒæŸ¥çœ‹å®Œæ•´æ–‡æ¡£**ï¼š

- [SETUP.md](./SETUP.md) - è¯¦ç»†é…ç½®æŒ‡å—ï¼ˆé¦–æ¬¡ä½¿ç”¨å¿…è¯»ï¼‰
- [README.md](./README.md) - å®Œæ•´ä½¿ç”¨æ–‡æ¡£å’Œæœ€ä½³å®è·µ
- [API_STYLE.md](../../docs/API_STYLE.md) - API è®¾è®¡è§„èŒƒ

âœ… **å¼€å§‹é›†æˆåˆ°é¡¹ç›®**ï¼š

å‚è€ƒ [README.md](./README.md) çš„"é›†æˆåˆ°é¡¹ç›®"ç« èŠ‚ã€‚

---

## ğŸ” å®‰å…¨æé†’

- âœ… `.env` æ–‡ä»¶ä¸è¦æäº¤åˆ° Git
- âœ… ä¸è¦åœ¨ä»£ç ä¸­ç¡¬ç¼–ç å¯†é’¥
- âœ… å®šæœŸæ›´æ¢ API å¯†é’¥
- âœ… ä½¿ç”¨å­è´¦å·å¯†é’¥ï¼ˆè€Œéä¸»è´¦å·ï¼‰

---

**å¿«é€Ÿä¸Šæ‰‹æ—¶é—´**ï¼šçº¦ 5 åˆ†é’Ÿ
**é¦–æ¬¡é…ç½®ï¼ˆå«è´¦å·æ³¨å†Œï¼‰**ï¼šçº¦ 15 åˆ†é’Ÿ

ç¥ä½ ä½¿ç”¨æ„‰å¿«ï¼ğŸ‰
