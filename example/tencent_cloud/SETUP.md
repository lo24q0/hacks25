# è…¾è®¯äº‘å›¾åƒé£æ ¼åŒ– API é…ç½®æŒ‡å—

## ğŸ“‹ é…ç½®æ­¥éª¤æ¦‚è§ˆ

1. âœ… æ³¨å†Œè…¾è®¯äº‘è´¦å·
2. âœ… å¼€é€šæ™ºèƒ½åˆ›ä½œå¼•æ“æœåŠ¡
3. âœ… è·å– API å¯†é’¥ï¼ˆSecretId å’Œ SecretKeyï¼‰
4. âœ… é…ç½®ç¯å¢ƒå˜é‡
5. âœ… éªŒè¯é…ç½®
6. âœ… è¿è¡Œæµ‹è¯•

é¢„è®¡æ—¶é—´ï¼š10-15 åˆ†é’Ÿ

---

## æ­¥éª¤ 1ï¼šæ³¨å†Œè…¾è®¯äº‘è´¦å·

### 1.1 è®¿é—®è…¾è®¯äº‘å®˜ç½‘

æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®ï¼šhttps://cloud.tencent.com/

### 1.2 æ³¨å†Œè´¦å·

- å¦‚æœå·²æœ‰è´¦å·ï¼Œç›´æ¥ç™»å½•
- å¦‚æœæ²¡æœ‰è´¦å·ï¼š
  1. ç‚¹å‡»å³ä¸Šè§’ã€å…è´¹æ³¨å†Œã€‘
  2. ä½¿ç”¨æ‰‹æœºå·æˆ–å¾®ä¿¡æ³¨å†Œ
  3. å®Œæˆå®åè®¤è¯ï¼ˆéœ€è¦èº«ä»½è¯ï¼‰

> **æ³¨æ„**ï¼šå®åè®¤è¯æ˜¯ä½¿ç”¨è…¾è®¯äº‘ API çš„å¿…è¦æ¡ä»¶

---

## æ­¥éª¤ 2ï¼šå¼€é€šæ™ºèƒ½åˆ›ä½œå¼•æ“æœåŠ¡

### 2.1 æœç´¢æœåŠ¡

1. ç™»å½•è…¾è®¯äº‘æ§åˆ¶å°ï¼šhttps://console.cloud.tencent.com/
2. åœ¨é¡¶éƒ¨æœç´¢æ¡†è¾“å…¥ï¼š"æ™ºèƒ½åˆ›ä½œå¼•æ“" æˆ– "aiart"
3. ç‚¹å‡»æœç´¢ç»“æœä¸­çš„ã€æ™ºèƒ½åˆ›ä½œå¼•æ“ã€‘

**ç›´è¾¾é“¾æ¥**ï¼šhttps://console.cloud.tencent.com/aiart

### 2.2 å¼€é€šæœåŠ¡

1. ç‚¹å‡»ã€ç«‹å³å¼€é€šã€‘æŒ‰é’®
2. é˜…è¯»å¹¶åŒæ„æœåŠ¡åè®®
3. ç¡®è®¤å¼€é€š

### 2.3 æŸ¥çœ‹å…è´¹é¢åº¦

å¼€é€šåå¯ä»¥çœ‹åˆ°ï¼š
- âœ… æ¯æœˆ 100 æ¬¡å…è´¹è°ƒç”¨é¢åº¦
- âœ… è¶…å‡ºéƒ¨åˆ†æŒ‰é‡è®¡è´¹ï¼ˆçº¦ 0.1 å…ƒ/æ¬¡ï¼‰

---

## æ­¥éª¤ 3ï¼šè·å– API å¯†é’¥

### 3.1 è®¿é—®è®¿é—®ç®¡ç†

1. åœ¨æ§åˆ¶å°é¡¶éƒ¨ï¼Œç‚¹å‡»å³ä¸Šè§’ã€è´¦å·åç§°ã€‘
2. åœ¨ä¸‹æ‹‰èœå•ä¸­é€‰æ‹©ã€è®¿é—®ç®¡ç†ã€‘
3. æˆ–ç›´æ¥è®¿é—®ï¼šhttps://console.cloud.tencent.com/cam/capi

### 3.2 åˆ›å»º API å¯†é’¥

#### æ–¹å¼ä¸€ï¼šä½¿ç”¨ä¸»è´¦å·å¯†é’¥ï¼ˆå¿«é€Ÿæµ‹è¯•ï¼‰

1. åœ¨ã€API å¯†é’¥ç®¡ç†ã€‘é¡µé¢ï¼Œç‚¹å‡»ã€æ–°å»ºå¯†é’¥ã€‘
2. ç‚¹å‡»ã€ç¡®å®šã€‘
3. **ç«‹å³å¤åˆ¶å¹¶ä¿å­˜ SecretId å’Œ SecretKey**

> âš ï¸ **é‡è¦æç¤º**ï¼šSecretKey åªä¼šæ˜¾ç¤ºä¸€æ¬¡ï¼Œè¯·åŠ¡å¿…ä¿å­˜å¥½ï¼

#### æ–¹å¼äºŒï¼šä½¿ç”¨å­è´¦å·å¯†é’¥ï¼ˆæ¨èç”Ÿäº§ç¯å¢ƒï¼‰

1. åˆ›å»ºå­è´¦å·ï¼šã€ç”¨æˆ·ã€‘-> ã€æ–°å»ºç”¨æˆ·ã€‘
2. æˆäºˆæƒé™ï¼šã€æ™ºèƒ½åˆ›ä½œå¼•æ“ (aiart) å…¨è¯»å†™è®¿é—®æƒé™ã€‘
3. åˆ›å»º API å¯†é’¥
4. ä¿å­˜ SecretId å’Œ SecretKey

---

## æ­¥éª¤ 4ï¼šé…ç½®ç¯å¢ƒå˜é‡

### 4.1 å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿

åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œï¼š

```bash
# å¦‚æœ .env æ–‡ä»¶ä¸å­˜åœ¨ï¼Œä»æ¨¡æ¿å¤åˆ¶
cp .env.example .env
```

### 4.2 ç¼–è¾‘ .env æ–‡ä»¶

æ‰“å¼€ `.env` æ–‡ä»¶ï¼Œæ‰¾åˆ°è…¾è®¯äº‘é…ç½®éƒ¨åˆ†ï¼š

```bash
# ----------------------------------------
# è…¾è®¯äº‘ API é…ç½® (å›¾ç‰‡é£æ ¼åŒ–)
# ----------------------------------------
# è…¾è®¯äº‘ SecretId (è®¿é—®ç®¡ç† -> è®¿é—®å¯†é’¥è·å–)
TENCENT_CLOUD_SECRET_ID=your_secret_id_here

# è…¾è®¯äº‘ SecretKey
TENCENT_CLOUD_SECRET_KEY=your_secret_key_here

# è…¾è®¯äº‘åœ°åŸŸ: ap-guangzhou | ap-beijing | ap-shanghai
TENCENT_CLOUD_REGION=ap-guangzhou
```

### 4.3 æ›¿æ¢å¯†é’¥ä¿¡æ¯

å°†ç¬¬ 3 æ­¥è·å–çš„å¯†é’¥å¡«å…¥ï¼š

```bash
TENCENT_CLOUD_SECRET_ID=your_secret_id_from_step3_here
TENCENT_CLOUD_SECRET_KEY=your_secret_key_from_step3_here
TENCENT_CLOUD_REGION=ap-guangzhou
```

**åœ°åŸŸé€‰æ‹©å»ºè®®**ï¼š
- `ap-guangzhou`ï¼šå¹¿å·ï¼ˆæ¨èï¼Œå»¶è¿Ÿæœ€ä½ï¼‰
- `ap-beijing`ï¼šåŒ—äº¬
- `ap-shanghai`ï¼šä¸Šæµ·

### 4.4 ä¿å­˜æ–‡ä»¶

ä¿å­˜ `.env` æ–‡ä»¶ï¼ˆæ³¨æ„ï¼š`.env` æ–‡ä»¶ä¸è¦æäº¤åˆ° Gitï¼‰

---

## æ­¥éª¤ 5ï¼šå®‰è£…ä¾èµ–

### 5.1 å®‰è£…è…¾è®¯äº‘ SDK

åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œï¼š

```bash
# è¿›å…¥åç«¯ç›®å½•
cd backend

# å®‰è£…ä¾èµ–
pip install tencentcloud-sdk-python-aiart

# æˆ–å®‰è£…å…¨éƒ¨ä¾èµ–
pip install -r requirements.txt
```

### 5.2 éªŒè¯å®‰è£…

```bash
python -c "from tencentcloud.aiart.v20221229 import aiart_client; print('SDK å®‰è£…æˆåŠŸ')"
```

å¦‚æœæ²¡æœ‰æŠ¥é”™ï¼Œè¯´æ˜å®‰è£…æˆåŠŸã€‚

---

## æ­¥éª¤ 6ï¼šéªŒè¯é…ç½®

### 6.1 å‡†å¤‡æµ‹è¯•å›¾ç‰‡

åœ¨ `example/tencent_cloud/` ç›®å½•ä¸‹æ”¾ä¸€å¼ æµ‹è¯•å›¾ç‰‡ï¼Œå‘½åä¸º `test_input.jpg`

**å›¾ç‰‡è¦æ±‚**ï¼š
- æ ¼å¼ï¼šJPGã€PNGã€WEBP
- å¤§å°ï¼š< 10 MB
- åˆ†è¾¨ç‡ï¼šå»ºè®® 1024x1024 æˆ–æ›´å°
- å†…å®¹ï¼šäººç‰©ç…§ç‰‡æ•ˆæœæœ€ä½³ï¼ˆç”¨äºåŠ¨æ¼«é£æ ¼ï¼‰

### 6.2 è¿è¡Œæµ‹è¯•è„šæœ¬

åˆ›å»ºæµ‹è¯•è„šæœ¬ `test_api.py`ï¼š

```python
# example/tencent_cloud/test_api.py
import os
from dotenv import load_dotenv
from image_style_transfer_example import TencentCloudStyleTransfer

# åŠ è½½ç¯å¢ƒå˜é‡
load_dotenv()

# è·å–å¯†é’¥
secret_id = os.getenv("TENCENT_CLOUD_SECRET_ID")
secret_key = os.getenv("TENCENT_CLOUD_SECRET_KEY")
region = os.getenv("TENCENT_CLOUD_REGION", "ap-guangzhou")

# æ£€æŸ¥é…ç½®
if not secret_id or secret_id == "your_secret_id_here":
    print("âŒ é”™è¯¯ï¼šè¯·å…ˆé…ç½® TENCENT_CLOUD_SECRET_ID")
    exit(1)

if not secret_key or secret_key == "your_secret_key_here":
    print("âŒ é”™è¯¯ï¼šè¯·å…ˆé…ç½® TENCENT_CLOUD_SECRET_KEY")
    exit(1)

print("âœ… ç¯å¢ƒå˜é‡é…ç½®æ­£ç¡®")
print(f"   SecretId: {secret_id[:10]}...")
print(f"   Region: {region}")

# åˆå§‹åŒ–å®¢æˆ·ç«¯
print("\nğŸ”§ åˆå§‹åŒ–è…¾è®¯äº‘å®¢æˆ·ç«¯...")
client = TencentCloudStyleTransfer(
    secret_id=secret_id,
    secret_key=secret_key,
    region=region
)
print("âœ… å®¢æˆ·ç«¯åˆå§‹åŒ–æˆåŠŸ")

# æµ‹è¯•é£æ ¼è½¬æ¢
print("\nğŸ¨ å¼€å§‹æµ‹è¯•å›¾ç‰‡é£æ ¼åŒ–...")
print("   è¾“å…¥å›¾ç‰‡: test_input.jpg")
print("   é£æ ¼ç±»å‹: anime (åŠ¨æ¼«é£æ ¼)")
print("   è¾“å‡ºå›¾ç‰‡: test_output_anime.jpg")

try:
    result = client.transfer_style(
        image_path="test_input.jpg",
        style_type="anime",
        output_path="test_output_anime.jpg"
    )

    print("\nğŸ‰ æµ‹è¯•æˆåŠŸï¼")
    print(f"   è¯·æ±‚ID: {result['request_id']}")
    print(f"   è¾“å‡ºæ–‡ä»¶: {result.get('output_path')}")

    if result.get('image_url'):
        print(f"   ä¸´æ—¶URL: {result['image_url']}")

    print("\nâœ… é…ç½®éªŒè¯å®Œæˆï¼Œå¯ä»¥å¼€å§‹ä½¿ç”¨è…¾è®¯äº‘å›¾åƒé£æ ¼åŒ– APIï¼")

except FileNotFoundError:
    print("\nâŒ é”™è¯¯ï¼šæ‰¾ä¸åˆ° test_input.jpg")
    print("   è¯·åœ¨ example/tencent_cloud/ ç›®å½•ä¸‹æ”¾ç½®æµ‹è¯•å›¾ç‰‡")

except Exception as e:
    print(f"\nâŒ æµ‹è¯•å¤±è´¥: {e}")
    print("\nè¯·æ£€æŸ¥:")
    print("1. SecretId å’Œ SecretKey æ˜¯å¦æ­£ç¡®")
    print("2. æ˜¯å¦å·²å¼€é€šæ™ºèƒ½åˆ›ä½œå¼•æ“æœåŠ¡")
    print("3. è´¦æˆ·ä½™é¢æ˜¯å¦å……è¶³ï¼ˆæˆ–å…è´¹é¢åº¦æ˜¯å¦ç”¨å®Œï¼‰")
    print("4. ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸")
```

### 6.3 æ‰§è¡Œæµ‹è¯•

```bash
cd example/tencent_cloud
python test_api.py
```

**é¢„æœŸè¾“å‡º**ï¼š

```
âœ… ç¯å¢ƒå˜é‡é…ç½®æ­£ç¡®
   SecretId: your_id...
   Region: ap-guangzhou

ğŸ”§ åˆå§‹åŒ–è…¾è®¯äº‘å®¢æˆ·ç«¯...
âœ… å®¢æˆ·ç«¯åˆå§‹åŒ–æˆåŠŸ

ğŸ¨ å¼€å§‹æµ‹è¯•å›¾ç‰‡é£æ ¼åŒ–...
   è¾“å…¥å›¾ç‰‡: test_input.jpg
   é£æ ¼ç±»å‹: anime (åŠ¨æ¼«é£æ ¼)
   è¾“å‡ºå›¾ç‰‡: test_output_anime.jpg

å›¾ç‰‡å·²ä¿å­˜åˆ°: test_output_anime.jpg

ğŸ‰ æµ‹è¯•æˆåŠŸï¼
   è¯·æ±‚ID: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
   è¾“å‡ºæ–‡ä»¶: test_output_anime.jpg
   ä¸´æ—¶URL: https://...

âœ… é…ç½®éªŒè¯å®Œæˆï¼Œå¯ä»¥å¼€å§‹ä½¿ç”¨è…¾è®¯äº‘å›¾åƒé£æ ¼åŒ– APIï¼
```

---

## å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

### âŒ é—®é¢˜ 1ï¼šæç¤º "SecretId ä¸å­˜åœ¨"

**åŸå› **ï¼šå¯†é’¥é”™è¯¯æˆ–æœªæ¿€æ´»

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥å¤åˆ¶çš„å¯†é’¥æ˜¯å¦å®Œæ•´ï¼ˆæ³¨æ„ç©ºæ ¼ï¼‰
2. ç¡®è®¤å¯†é’¥çŠ¶æ€ä¸º"å¯ç”¨"
3. ç­‰å¾… 1-2 åˆ†é’Ÿåé‡è¯•ï¼ˆæ–°å¯†é’¥éœ€è¦ç”Ÿæ•ˆæ—¶é—´ï¼‰

---

### âŒ é—®é¢˜ 2ï¼šæç¤º "ä½™é¢ä¸è¶³"

**åŸå› **ï¼šå…è´¹é¢åº¦ç”¨å®Œæˆ–è´¦æˆ·æ¬ è´¹

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ç™»å½•æ§åˆ¶å°æŸ¥çœ‹è´¹ç”¨ä¸­å¿ƒ
2. æŸ¥çœ‹æ™ºèƒ½åˆ›ä½œå¼•æ“çš„ç”¨é‡ç»Ÿè®¡
3. å……å€¼æˆ–ç­‰å¾…ä¸‹æœˆå…è´¹é¢åº¦åˆ·æ–°

---

### âŒ é—®é¢˜ 3ï¼šæç¤º "å›¾ç‰‡è§£ç å¤±è´¥"

**åŸå› **ï¼šå›¾ç‰‡æ ¼å¼ä¸æ”¯æŒæˆ–æŸå

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ç¡®ä¿å›¾ç‰‡æ ¼å¼ä¸º JPGã€PNG æˆ– WEBP
2. æ£€æŸ¥å›¾ç‰‡æ˜¯å¦èƒ½æ­£å¸¸æ‰“å¼€
3. å°è¯•ä½¿ç”¨æ›´å°çš„å›¾ç‰‡ï¼ˆ< 2048x2048ï¼‰

---

### âŒ é—®é¢˜ 4ï¼šæç¤º "è¯·æ±‚è¶…æ—¶"

**åŸå› **ï¼šç½‘ç»œé—®é¢˜æˆ–å›¾ç‰‡è¿‡å¤§

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥ç½‘ç»œè¿æ¥
2. å‹ç¼©å›¾ç‰‡è‡³ 1024x1024 å·¦å³
3. æ›´æ¢åœ°åŸŸï¼ˆregionï¼‰é‡è¯•

---

### âŒ é—®é¢˜ 5ï¼šImportError: No module named 'tencentcloud'

**åŸå› **ï¼šSDK æœªå®‰è£…

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
pip install tencentcloud-sdk-python-aiart
```

---

## å®‰å…¨å»ºè®®

### âœ… DOï¼ˆæ¨èåšæ³•ï¼‰

1. **ä½¿ç”¨å­è´¦å·å¯†é’¥**
   - åˆ›å»ºä¸“é—¨çš„å­è´¦å·ç”¨äº API è°ƒç”¨
   - åªæˆäºˆå¿…è¦çš„æƒé™ï¼ˆæ™ºèƒ½åˆ›ä½œå¼•æ“ï¼‰

2. **å¯†é’¥è½®æ¢**
   - å®šæœŸæ›´æ¢ API å¯†é’¥ï¼ˆå»ºè®® 3-6 ä¸ªæœˆï¼‰
   - åˆ é™¤ä¸å†ä½¿ç”¨çš„å¯†é’¥

3. **ä½¿ç”¨ç¯å¢ƒå˜é‡**
   - å¯†é’¥å­˜å‚¨åœ¨ `.env` æ–‡ä»¶
   - `.env` æ–‡ä»¶åŠ å…¥ `.gitignore`
   - ä¸è¦ç¡¬ç¼–ç å¯†é’¥åˆ°ä»£ç ä¸­

4. **ç›‘æ§ç”¨é‡**
   - å®šæœŸæŸ¥çœ‹ API è°ƒç”¨é‡
   - è®¾ç½®è´¹ç”¨å‘Šè­¦

### âŒ DON'Tï¼ˆç¦æ­¢åšæ³•ï¼‰

1. **ä¸è¦æ³„éœ²å¯†é’¥**
   - ä¸è¦æäº¤åˆ° Git
   - ä¸è¦åˆ†äº«ç»™ä»–äºº
   - ä¸è¦æ‰“å°åˆ°æ—¥å¿—

2. **ä¸è¦ä½¿ç”¨ä¸»è´¦å·**
   - ä¸»è´¦å·æƒé™è¿‡å¤§ï¼Œé£é™©é«˜
   - åº”è¯¥ä½¿ç”¨å­è´¦å·å¹¶é™åˆ¶æƒé™

3. **ä¸è¦ä½¿ç”¨ç¡¬ç¼–ç **
   ```python
   # âŒ é”™è¯¯ç¤ºä¾‹
   secret_id = "AKIDxxxxxxxx"

   # âœ… æ­£ç¡®ç¤ºä¾‹
   secret_id = os.getenv("TENCENT_CLOUD_SECRET_ID")
   ```

---

## ä¸‹ä¸€æ­¥

é…ç½®å®Œæˆåï¼Œä½ å¯ä»¥ï¼š

1. **æŸ¥çœ‹ä½¿ç”¨æ–‡æ¡£**
   - [README.md](./README.md) - å®Œæ•´ä½¿ç”¨æŒ‡å—
   - [API_STYLE.md](../../docs/API_STYLE.md) - API è®¾è®¡æ–‡æ¡£

2. **è¿è¡Œç¤ºä¾‹ä»£ç **
   ```bash
   cd example/tencent_cloud
   python image_style_transfer_example.py
   ```

3. **é›†æˆåˆ°é¡¹ç›®**
   - å‚è€ƒ README.md ä¸­çš„"é›†æˆåˆ°é¡¹ç›®"ç« èŠ‚
   - å®ç°åç«¯ API å’Œå‰ç«¯ç•Œé¢

---

## æŠ€æœ¯æ”¯æŒ

### å®˜æ–¹æ–‡æ¡£
- äº§å“æ–‡æ¡£ï¼šhttps://cloud.tencent.com/document/product/1668
- API æ–‡æ¡£ï¼šhttps://cloud.tencent.com/document/api/1668/55923
- SDK æ–‡æ¡£ï¼šhttps://cloud.tencent.com/document/sdk/Python

### åœ¨çº¿å·¥å…·
- API Explorerï¼šhttps://console.cloud.tencent.com/api/explorer
  ï¼ˆå¯åœ¨çº¿è°ƒè¯• APIï¼Œæ— éœ€ç¼–å†™ä»£ç ï¼‰

### é—®é¢˜åé¦ˆ
- è…¾è®¯äº‘å·¥å•ï¼šhttps://console.cloud.tencent.com/workorder
- é¡¹ç›® Issueï¼šhttps://github.com/your-repo/issues

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**åˆ›å»ºæ—¥æœŸ**: 2025-10-25
**æœ€åæ›´æ–°**: 2025-10-25
**ç»´æŠ¤è€…**: AI Assistant
