### 🔄 项目感知与上下文
- **在每次新对话开始时务必阅读 `INITIAL.md`**，以了解项目的产品设计需求。
- **在开始新任务前检查 `TASK.md`**。如果任务未列出，请添加任务并附上简要描述和今天的日期。

### 🧱 代码结构与模块化
- **永远不要创建超过 500 行代码的文件。** 如果文件接近此限制，请通过拆分为模块或辅助文件进行重构。
- **将代码组织成清晰分离的模块**，按功能或职责分组。

### ✅ 任务完成
- **在完成任务后立即在 `TASK.md` 中标记已完成的任务**。
- 将开发过程中发现的新子任务或待办事项添加到 `TASK.md` 的"工作中发现"部分。
- 代码变更拆分成多个小的 commit 提交

### 📎 风格与约定
- 如适用，使用 `FastAPI` 构建 API，使用 `SQLAlchemy` 或 `SQLModel` 作为 ORM。
- **为每个函数编写 docstring**，使用 Google 风格：
  ```python
  def example():
      """
      简要概述。

      Args:
          param1 (type): 描述。

      Returns:
          type: 描述。
      """
  ```

### 📚 文档与可解释性
- **当添加新功能、更改依赖项或修改设置步骤时，更新 `README.md`**。
- **为不明显的代码添加注释**，确保中级开发人员能够理解所有内容。
- 编写复杂逻辑时，**添加内联 `# 原因:` 注释**，解释原因，而不仅仅是做了什么。

### 🧠 AI 行为规则
- **永远不要假设缺失的上下文。如果不确定，请提问。**
- **永远不要臆造库或函数** - 只使用已知的、经过验证的 Python 包。
- **在代码或测试中引用文件路径和模块名称之前，始终确认它们存在**。
- **永远不要删除或覆盖现有代码**，除非明确指示或作为 `TASK.md` 中任务的一部分。

### 📝 Git Commit 规范
- **使用语义化的 commit 类型前缀**:
  - `feat`: 新功能
  - `fix`: 修复 bug
  - `docs`: 文档更新
  - `style`: 代码格式调整(不影响功能)
  - `refactor`: 重构代码
  - `perf`: 性能优化
  - `test`: 添加或修改测试
  - `chore`: 构建工具或辅助工具的变动
  - `build`: 构建系统或依赖项变动
  - `ci`: CI 配置文件和脚本的变动

- **Commit 消息格式**:
  ```
  <类型>: <简短描述>

  [可选的详细说明]

  [可选的脚注,如关联的 issue]
  ```

- **示例**:
  ```
  feat: 添加 3D 模型文件上传功能

  - 支持 STL 和 OBJ 格式
  - 添加文件大小验证
  - 实现进度条显示

  Closes #123
  ```

- **最佳实践**:
  - 简短描述不超过 50 个字符
  - 使用祈使句("添加"而不是"添加了")
  - 详细说明换行,每行不超过 72 个字符
  - 一次 commit 只做一件事
  - 提交前确保代码可以运行并通过测试
