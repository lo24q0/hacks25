# ========================================
# 3D模型打印系统 - 环境变量配置模板
# ========================================

# ----------------------------------------
# 应用基础配置
# ----------------------------------------
# 应用环境: development | production | test
APP_ENV=development

# API服务端口
API_PORT=8000

# 前端服务端口
# 开发环境推荐: 5173 (不需要管理员权限,避免端口冲突)
# 生产环境推荐: 80 (标准 HTTP 端口,访问地址更简洁)
# 注意: 使用 80 端口在 Mac/Linux 上可能需要管理员权限
FRONTEND_PORT=5173

# 调试模式
DEBUG=true

# 日志级别: DEBUG | INFO | WARNING | ERROR | CRITICAL
LOG_LEVEL=INFO

# ----------------------------------------
# Redis 配置
# ----------------------------------------
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ----------------------------------------
# Celery 配置
# ----------------------------------------
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0

# ----------------------------------------
# 文件存储配置
# ----------------------------------------
# 存储类型: local | minio | s3
STORAGE_BACKEND=local

# 本地存储路径
STORAGE_LOCAL_PATH=/app/storage

# 临时文件生存时间(小时)
TEMP_FILE_TTL_HOURS=24

# 最大上传文件大小(MB)
MAX_UPLOAD_SIZE_MB=10

# ----------------------------------------
# AI 模型配置
# ----------------------------------------
# Meshy.ai API 密钥
MESHY_API_KEY=your_meshy_api_key_here

# Meshy.ai API 基础URL
MESHY_BASE_URL=https://api.meshy.ai

# Meshy API 请求超时时间(秒)
MESHY_TIMEOUT=300

# Meshy API 最大重试次数
MESHY_MAX_RETRIES=3

# Meshy 默认模型版本: meshy-4 | meshy-5 | meshy-6 | latest
MESHY_DEFAULT_MODEL=meshy-5

# ----------------------------------------
# 腾讯云 API 配置 (图片风格化)
# ----------------------------------------
# 腾讯云 SecretId (访问管理 -> 访问密钥获取)
TENCENT_CLOUD_SECRET_ID=your_secret_id_here

# 腾讯云 SecretKey
TENCENT_CLOUD_SECRET_KEY=your_secret_key_here

# 腾讯云地域: ap-guangzhou | ap-beijing | ap-shanghai
TENCENT_CLOUD_REGION=ap-guangzhou

# 风格化处理超时时间(秒)
STYLE_TRANSFER_TIMEOUT=60

# 风格化最大重试次数
STYLE_TRANSFER_MAX_RETRIES=3

# ----------------------------------------
# MinIO 对象存储配置 (可选, P1阶段使用)
# ----------------------------------------
MINIO_ENDPOINT=minio:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET=3d-models
MINIO_SECURE=false

# ----------------------------------------
# 数据库配置 (P2阶段使用)
# ----------------------------------------
# PostgreSQL连接字符串
DATABASE_URL=postgresql://user:password@postgres:5432/3dprint

# 数据库连接池配置
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10

# ----------------------------------------
# JWT 认证配置 (P2阶段使用)
# ----------------------------------------
# JWT密钥 (请使用强随机字符串)
JWT_SECRET_KEY=your-secret-key-change-this-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRATION_DAYS=7

# ----------------------------------------
# CORS 配置
# ----------------------------------------
# 允许的前端域名(多个用逗号分隔)
CORS_ORIGINS=http://localhost:5173,http://localhost:3000

# ----------------------------------------
# API 限流配置
# ----------------------------------------
# 匿名用户限流(次/小时)
RATE_LIMIT_ANONYMOUS=10

# 登录用户限流(次/小时)
RATE_LIMIT_AUTHENTICATED=100

# ----------------------------------------
# CuraEngine 配置 (P1阶段使用)
# ----------------------------------------
# CuraEngine 可执行文件路径
CURA_ENGINE_PATH=/usr/bin/CuraEngine

# 打印机配置文件路径
PRINTER_PROFILES_PATH=/app/config/printers

# ----------------------------------------
# 监控配置 (生产环境使用)
# ----------------------------------------
# Sentry DSN
SENTRY_DSN=

# Prometheus 端口
PROMETHEUS_PORT=9090
